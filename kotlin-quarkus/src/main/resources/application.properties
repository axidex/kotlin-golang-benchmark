# Database configuration
quarkus.datasource.db-kind=postgresql
# Dev Services will automatically start PostgreSQL in Docker
# No need to specify connection details in dev mode

# Connection pool configuration (Agroal)
quarkus.datasource.jdbc.min-size=50
quarkus.datasource.jdbc.max-size=300
quarkus.datasource.jdbc.acquisition-timeout=5
quarkus.datasource.jdbc.idle-removal-interval=10M
quarkus.datasource.jdbc.background-validation-interval=2M
quarkus.datasource.jdbc.leak-detection-interval=5M

# Hibernate configuration
quarkus.hibernate-orm.database.generation=update
quarkus.hibernate-orm.log.sql=false

# Logging configuration
quarkus.log.level=INFO
quarkus.log.category."org.hibernate".level=WARN
quarkus.log.category."io.quarkus".level=INFO
quarkus.log.category."dev.sourcecraft.dolgintsev".level=INFO

# HTTP access logging
quarkus.http.access-log.enabled=true
quarkus.http.access-log.pattern="%h %l %u %t \"%r\" %s %b %D"

# HTTP configuration
quarkus.http.port=8080

# Metrics configuration
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.binder.http-server.enabled=true
quarkus.micrometer.binder.jvm.enabled=true
# Enable datasource metrics (connection pool)
quarkus.datasource.metrics.enabled=true

# Production database configuration (uncomment when needed)
#%prod.quarkus.datasource.username=postgres
#%prod.quarkus.datasource.password=postgres
#%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/benchmark
